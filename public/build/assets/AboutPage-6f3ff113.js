import{_,P as h,D as m,x as p,s as r,o as a,c as i,b as l,k as c,F as b,d as P}from"./app-7e0eada9.js";import{a as x}from"./admin-table-component-d7c08093.js";import y from"./aboutPageModule-24e05d7e.js";import{N as f}from"./vue-easy-lightbox.esm.min-e15b6dc9.js";import"./ucfirst-206f84d9.js";const v={components:{Picture:h,VueEasyLightbox:f},mixins:[x],data(){return{origin:window.location.origin,table:"aboutPage",index:null,gallery:window.global.cms.aboutPage.aboutPageGallery||[],module:y}},computed:{aboutPage(){var o;return((o=this.$store.state.AboutPage)==null?void 0:o.aboutPage)||{}},tableData(){return[this.aboutPage]}},methods:{existingPhotoPath:m,async fetchGallery(){await p.get("/api/gallery/get_photos/about_page/1").then(o=>{this.gallery=o.data}).catch(o=>{console.log(o),this.$store.commit("toast","Przepraszamy, nie udało się załadować galerii...")})}},created(){this.gallery.length===0&&this.fetchGallery()}},w={class:"about-page"},k=["innerHTML"],z={class:"gallery"};function C(o,s,L,N,e,n){const g=r("vue-easy-lightbox"),u=r("Picture");return a(),i("section",w,[l("div",{class:"content",innerHTML:n.aboutPage.description},null,8,k),l("div",z,[c(g,{visible:Number.isInteger(e.index),imgs:e.gallery.map(t=>n.existingPhotoPath(`${e.origin}/storage/media/${t.path}`)),index:e.index,onHide:s[0]||(s[0]=t=>e.index=null)},null,8,["visible","imgs","index"]),(a(!0),i(b,null,P(e.gallery,(t,d)=>(a(),i("div",{key:`photo-${t.id}`,class:"photo"},[c(u,{onClick:A=>e.index=d,width:t.photo_sizes.width,height:t.photo_sizes.height,alt:t.photo_alt,src:`${e.origin}/storage/media/${t.path}`,classImg:"img"},null,8,["onClick","width","height","alt","src"])]))),128))])])}const T=_(v,[["render",C],["__scopeId","data-v-6bf92c89"]]);export{T as default};
