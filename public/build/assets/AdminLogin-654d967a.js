import{V as b,a as k,b as x,c as C}from"./VCardTitle-612be7de.js";import{S as R,a as y,V as A,T as M,b as L}from"./VDivider-99007ce3.js";import{a as S,V as I}from"./VCol-881ced2b.js";import q from"./validationRulesModule-dbe7dba8.js";import B from"./snackbarAlertsModule-97fe6cba.js";import{_ as F,s as t,o as N,f as $,l as o,k as s,b as r,y as j,z}from"./app-7e0eada9.js";import"./ucfirst-206f84d9.js";const T={data(){return{fields:[],formComponentsNames:["text-field","checkbox"]}},mounted(){this.fields=Object.values(this.$refs).filter(e=>this.formComponentsNames.includes(e.$options.name))}};const U={mixins:[T],components:{VMain:b,VCol:S,SvgVue:R,VContainer:k,VCard:y,VForm:x,VRow:I,VBtn:A,TextField:M,VDivider:L,VCardTitle:C},data(){return{valid:!0,credentials:{password:"",email:""},loading:!1}},computed:{validationRules(){return this.$store.getters.validationRules}},methods:{required(e){return!!e||this.validationRules.required},email(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||this.validationRules.email},passwordLength(e){return e.length>=8||this.validationRules.password_length},async login(){this.$refs.form.validate()&&(this.loading=!0,await this.$store.dispatch("authLogin",this.credentials),this.loading=!1)}},async created(){this.$store.hasModule("validationRules")||this.$store.registerModule("validationRules",q),this.$store.hasModule("snackbarAlerts")||this.$store.registerModule("snackbarAlerts",B),localStorage.getItem("user")&&this.$router.push({name:"AdminMain"}),await this.$store.dispatch("validationRules")}},c=e=>(j("data-v-e54fdd88"),e=e(),z(),e),Z=c(()=>r("h2",{class:"pt-4 font-weight-bold panel-title-header first-color"}," Logowanie ",-1)),D={class:"pa-5"},E=c(()=>r("span",{class:"button-name"},"Zaloguj",-1));function H(e,a,O,G,l,n){const u=t("v-card-title"),m=t("v-divider"),d=t("text-field"),_=t("svg-vue"),p=t("v-btn"),f=t("v-col"),v=t("v-row"),h=t("v-form"),g=t("v-card"),V=t("v-container"),w=t("v-main");return N(),$(w,null,{default:o(()=>[s(V,null,{default:o(()=>[s(g,null,{default:o(()=>[s(u,{class:"justify-content-center"},{default:o(()=>[Z]),_:1}),s(m,{class:"mt-0"}),s(h,{ref:"form",modelValue:l.valid,"onUpdate:modelValue":a[2]||(a[2]=i=>l.valid=i),fields:e.fields},{default:o(()=>[s(v,null,{default:o(()=>[s(f,{cols:"12"},{default:o(()=>[r("div",D,[s(d,{ref:"email-input",modelValue:l.credentials.email,"onUpdate:modelValue":a[0]||(a[0]=i=>l.credentials.email=i),rules:[n.required,n.email],label:"Adres E-mail"},null,8,["modelValue","rules"]),s(d,{ref:"password-input",type:"password",rules:[n.required,n.passwordLength],modelValue:l.credentials.password,"onUpdate:modelValue":a[1]||(a[1]=i=>l.credentials.password=i),label:"HasÅ‚o"},null,8,["rules","modelValue"]),s(p,{color:"primary",class:"mr-2",onClick:n.login,loading:l.loading,type:"submit"},{icon:o(()=>[s(_,{icon:"check"})]),default:o(()=>[E]),_:1},8,["onClick","loading"])])]),_:1})]),_:1})]),_:1},8,["modelValue","fields"])]),_:1})]),_:1})]),_:1})}const ee=F(U,[["render",H],["__scopeId","data-v-e54fdd88"]]);export{ee as default};
