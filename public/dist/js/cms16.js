"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[794],{6684:(a,e,t)=>{t.r(e),t.d(e,{default:()=>_});var i=t(9669),s=t.n(i);var l=t(538),n=t(7936),o=t(5091),r=t(9225),c=t(1819),m=t(3240),d=t(5255),u=t(1211),v=t(4786),f=t(8176),p=t(607),b=t(5893),h=t(7894),w=t(7024);const g={components:{VMain:o.Z,VTextarea:r.Z,VContainer:c.Z,VForm:m.Z,VCardActions:d.h7,VBtn:u.Z,VIcon:v.Z,VDivider:f.Z,VTextField:p.Z,VCard:b.Z,VCardTitle:d.EB,VRow:h.Z,VCol:w.Z},data:function(){return{mail:{},loading:!1,answer:{answer_message:"",answer:1,id:this.$route.params.id,subject:"",email:""},files:[],rules:{titleRules:[function(a){return!!a||"To pole jest wymagane!"}]},valid:!0,attachments:[]}},watch:{mail:function(){this.answer.subject=this.mail.subject,this.answer.email=this.mail.email}},methods:{getMail:function(){var a=this;s().get("/api/mails/get_one/".concat(this.$route.params.id)).then((function(e){a.mail=e.data}))},getAttachment:function(a){return e=a,window.location.origin+"/storage/attachments/"+e;var e},sendMail:function(a){var e=this;a.delete=1,s().post("/api/mails/send",a).then((function(a){console.log(a),e.loading=!1,null!=a.data.error?e.$store.commit("setSnackbar",a.data.error.message):null!=a.data.success&&e.$store.commit("setSnackbar",a.data.success.message),e.$store.commit("setSnackbar","Pomyślnie wysłano odpowiedź!")})).catch((function(a){console.log(a),e.loading=!1,e.$store.commit("setSnackbar","Przepraszamy, nie udało się wysłać maila...")}))},editMail:function(){var a=this;this.valid&&(this.loading=!0,s().put("/api/mails/answer",this.answer).then((function(e){a.sendMail(e.data)})).catch((function(e){a.loading=!1,a.$store.commit("setSnackbar","Nie udało się zapisać wiadomości, skontaktuj się z Danielem")})))}},created:function(){this.getMail(),l.ZP.use(n.VueReCaptcha,{siteKey:"6Lfdvf0cAAAAAAMO211eYJE2wG8AlbWfQZQwbIS5"})}};const _=(0,t(1900).Z)(g,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("v-main",[t("v-container",[t("v-card",[t("v-card-title",{staticClass:"justify-content-center"},[t("h2",{staticClass:"pt-4 font-weight-bold panel-title-header first-color"},[a._v("\n          Odpowiedź na mail o temacie '"+a._s(a.mail.subject)+"'\n        ")])]),a._v(" "),t("v-divider",{staticClass:"mt-0"}),a._v(" "),t("v-form",{ref:"form",model:{value:a.valid,callback:function(e){a.valid=e},expression:"valid"}},[t("v-row",{staticClass:"px-5"},[t("v-col",{attrs:{cols:"12",md:"8"}},[t("v-textarea",{attrs:{color:"primary",rules:a.rules.titleRules,rows:"5",label:"Twoja wiadomość"},model:{value:a.answer.answer_message,callback:function(e){a.$set(a.answer,"answer_message",e)},expression:"answer.answer_message"}})],1),a._v(" "),t("v-col",{attrs:{cols:"12",md:"4"}},[t("div",{staticClass:"pa-5"},[t("v-text-field",{attrs:{color:"primary",disabled:"",label:"Imię i nazwisko"},model:{value:a.mail.name,callback:function(e){a.$set(a.mail,"name",e)},expression:"mail.name"}}),a._v(" "),t("v-text-field",{attrs:{color:"primary",disabled:"",label:"E-mail"},model:{value:a.mail.email,callback:function(e){a.$set(a.mail,"email",e)},expression:"mail.email"}}),a._v(" "),t("v-text-field",{attrs:{color:"primary",disabled:"",label:"Telefon"},model:{value:a.mail.phone,callback:function(e){a.$set(a.mail,"phone",e)},expression:"mail.phone"}}),a._v(" "),t("v-text-field",{attrs:{color:"primary",disabled:"",label:"Temat"},model:{value:a.mail.subject,callback:function(e){a.$set(a.mail,"subject",e)},expression:"mail.subject"}}),a._v(" "),t("v-textarea",{attrs:{color:"primary",rows:"5",disabled:"",label:"Wiadomość"},model:{value:a.mail.message,callback:function(e){a.$set(a.mail,"message",e)},expression:"mail.message"}})],1)])],1),a._v(" "),t("v-divider",{staticClass:"mb-0"}),a._v(" "),t("v-card-actions",{staticClass:"pa-4"},[t("v-btn",{staticClass:"mr-2",attrs:{loading:a.loading,disabled:!a.valid,color:"primary"},on:{click:a.editMail}},[t("v-icon",{attrs:{left:""}},[a._v("mdi-check")]),a._v(" "),t("span",[a._v("Wyślij")])],1),a._v(" "),t("v-btn",{staticClass:"mr-2",attrs:{color:"error"},on:{click:function(e){return a.$router.go(-1)}}},[t("v-icon",{attrs:{left:""}},[a._v("mdi-close")]),a._v(" "),t("span",[a._v("Wróć")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=cms16.js.map